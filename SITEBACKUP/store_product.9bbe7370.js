!function i(r,n,a){function s(t,e){if(!n[t]){if(!r[t]){var o="function"==typeof require&&require;if(!e&&o)return o(t,!0);if(c)return c(t,!0);throw(o=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",o}o=n[t]={exports:{}},r[t][0].call(o.exports,function(e){return s(r[t][1][e]||e)},o,o.exports,i,r,n,a)}return n[t].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,o){"use strict";function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var o,i=0;i<t.length;i++)(o=t[i]).enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(o){var i=u();return function(){var e,t=d(o);return e=i?(e=d(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==r(e)&&"function"!=typeof e?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t):e}}function a(e){var i="function"==typeof Map?new Map:void 0;return(a=function(e){function t(){return c(e,arguments,d(this).constructor)}if(null===e||(o=e,-1===Function.toString.call(o).indexOf("[native code]")))return e;var o;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==i){if(i.has(e))return i.get(e);i.set(e,t)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),l(t,e)})(e)}function c(){return(c=u()?Reflect.construct:function(e,t,o){var i=[null];i.push.apply(i,t);i=new(Function.bind.apply(e,i));return o&&l(i,o.prototype),i}).apply(null,arguments)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p,f,h,m="STORE20",v=3,b=function(){function e(){return s(this,e),t.apply(this,arguments)}!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(e,a(Error));var t=n(e);return e}(),g=function(e){return e.replace(/ /g,"")},y=(p=S,(f=[{key:"reinitializeStore",value:function(){return this.settings.editor.refreshAppMarketData(),this.initializeStore()}},{key:"addCartButton",value:function(){this.settings.customHeaderButtons.add("kv-ee-cart_button",'<div><i class="fa fa-shopping-cart"></i><span class="kv-ee-cartContent pl-1"></span></div>'),window.storeCartButton=!0}},{key:"onSiteChanged",value:function(){this.settings.getPageUri("store/product-detail")?this.addCartButton():(this.settings.customHeaderButtons.remove("kv-ee-cart_button"),window.storeCartButton=!1)}},{key:"initializeStore",value:function(){var o=this;this.didGetStoreInfo=!1;var e=this.settings.resolveAppmarketApp(m);return this.storeInitializingPromise=e.then(function(e){if(!e)throw new Error("Store has not been created");o.app=e,o.instanceJwt=e&&e.instance_jwt,o.instanceId=e&&e.instance_id,o.shopApiUrl=o.getUrlByAppName(e.url,"st-shop-api"),o.storeApiUrl=o.getUrlByAppName(e.url,"st-edit-api"),o.shopUrl=o.getUrlByAppName(e.url,"st-shop");var t=window.self!==window.top;if(o.settings.getPageUri("store/product-detail")&&70<=e.setup_status)o.settings.addScriptFromAppmarketApp(m),o.addCartButton(),o.settings.customHeaderButtons.forEach("kv-ee-cart_button",function(e){o.cartButton=e,o.cartButton.length=1,o.didCartInitialization||o.initializeCart()}),o.data.needToCreateStore=!1,o.data.needToSetup=!1,o.settings.getAllChildFeatures().forEach(function(e){return e.doStoreDataCall(!0)});else{if(!t)throw new b;o.settings.getAllChildFeatures().forEach(function(e){e.doStoreDataCall(!1),e.renderOverlay&&e.renderOverlay()})}}).then(function(){return Promise.all(o.app?[o.fetchStoreSettings()]:[])}).then(function(){o.didGetStoreInfo=!0,o.settings.getAllChildFeatures().forEach(function(e){return e.onDidGetStoreInfo(!0)})}).catch(function(e){o.didGetStoreInfo=!0;var t=e.constructor===b;o.data.needToCreateStore=!t,o.data.needToSetup=!0,o.settings.getAllChildFeatures().forEach(function(e){return e&&e.onInitError&&e.onInitError(t)}),t||console.warn("CATCHERR",e)}),this.storeInitializingPromise}},{key:"initializeCart",value:function(){var e;this.cartButton&&!this.didCartInitialization&&(this.didCartInitialization=!0,window.AMStore=window.AMStore||{q:[],init:function(){window.AMStore.q.push(["init",arguments])},reInit:function(){window.AMStore.q.push(["reInit",arguments])},addToCart:function(){window.AMStore.q.push(["addToCart",arguments])},openShoppingCart:function(){window.AMStore.q.push(["openShoppingCart",arguments])},closeShoppingCart:function(){window.AMStore.q.push(["closeShoppingCart",arguments])}},window.AMStore)&&(window.AMStore.init({testMode:this.isTestMode,isPublished:!1,instanceJwt:this.instanceJwt,domain:this.shopUrl,openCartAutomatically:!0,language:window._site&&window._site.language,style:this.colors,elements:{amountLabel:this.cartButton.querySelectorAll(".kv-ee-cartContent"),cart:""}}),(e=this.cartButton||document.querySelector("header .kv-ee-button-cart"))&&e.addEventListener("click",function(){window.AMStore.openShoppingCart()}))}},{key:"dispose",value:function(){this.settings.customHeaderButtons.remove("kv-ee-cart_button")}},{key:"afterRenderCustomHeaderButton",value:function(){}},{key:"getUrlByAppName",value:function(e,t){e=e.match(/^https?:\/\/[^/]+/i);return 0<e.length?e[0].replace("st-shop",t):null}},{key:"fetchStoreSettings",value:function(){var t=this;return this.fetch("".concat(this.shopApiUrl,"/v1.0/settings?instanceId=").concat(encodeURIComponent(this.instanceId))).then(function(e){return e.json()}).then(function(e){t.data.currencySymbol=e.supportedCurrencies&&e.supportedCurrencies.items[0].symbol,t.data.currencyCode=e.supportedCurrencies&&e.supportedCurrencies.items[0].code,t.builderApi.editor&&!t.config.isThumbnail&&t.builderApi.editor.storeModelProperty("currencySymbol",t.data.currencySymbol,!1,!0)})}},{key:"formatPrice",value:function(e){var t=e.basePrice&&e.basePrice.toFixed(2),o=e.price&&e.price.toFixed(2),e=e.discountPercentage;return{productPrice:t,discountedPrice:o,discountPercentage:e=e&&!Number.isInteger(e)?e.toFixed(2):e}}},{key:"createOrSetupStoreCTA",value:function(e,t){var o=this;this.productListLoader=e.querySelector(".kv-ee-productListLoader"),this.productListRow=e.querySelector(".kv-ee-storeProductRow");var i,r=e.querySelector(".kv-ee-ui-sortable");r&&this.settings.editor&&!this.isForPreview&&(r.innerHTML+='<div class="kv-edit-selector kv-ee-d-none" data-control-type="remote-list"><div class="kv-edit-selector-buttons"><i class="material-icons kv-editor-button" data-icon-type="settings">settings</i></div></div>',i=e.querySelector(".kv-edit-selector"),r.classList.add("kv-ee-createStoreArea"),r.addEventListener("mouseover",function(){r.classList.add("kv-hover"),i.classList.remove("kv-ee-d-none")}),r.addEventListener("mouseout",function(){r.classList.remove("kv-hover"),i.classList.add("kv-ee-d-none")}),(e=e.querySelectorAll(".kv-control"))&&e.forEach(function(e){e.classList.add("kv-ee-d-none")}),(e=r.querySelectorAll(".kv-ee-content-image"))&&e.forEach(function(e){var t=e.getAttribute("data-src-retina");t&&(e.setAttribute("style",'background-image:url("'.concat(t,'")')),e.className="kv-ee-content-image")}),i&&i.addEventListener("click",function(){o.createStore(t)}))}},{key:"createStore",value:function(){var o=this,i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:function(){o.reinitializeStore()};this.productListLoader&&this.productListLoader.classList.remove("kv-ee-d-none"),this.productListRow&&this.productListRow.classList.add("kv-ee-d-none");function e(){o.settings.editor.showDashboard(m,{onClose:function(){var e=o.data,t=e.needToCreateStore,e=e.needToSetup;i({needToCreateStore:t,needToSetup:e})},onSetupReady:function(){o.data.needToCreateStore=!1,o.data.needToSetup=!1},route:"",queryParams:{ee:1},fullscreen:!0})}this.data.needToCreateStore?this.settings.editor.ensureSavedSite(function(){o.settings.editor.createStore(e)}):e()}},{key:"getDemoData",value:function(){return[{id:"0000",name:this.builderApi.localize("editorTemplates.features.store.demoProductTitle"),title:this.builderApi.localize("editorTemplates.features.store.demoProductTitle"),description:this.builderApi.localize("editorTemplates.features.store.demoProductDescription"),shortDescription:this.builderApi.localize("editorTemplates.features.store.demoProductDescription"),sku:null,stock:null,discountPercentage:10,banner:this.builderApi.localize("editorTemplates.features.store.productBanner1"),image:{value:"https://images.unsplash.com/photo-1494261951946-b0c26b70410c?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=7148f93943d52d36939fd621c24b2d44&auto=format&fit=crop&w=500&q=60"},discountedPrice:63,productPrice:58.33,basePrice:63,price:58.33,deepLink:{title:this.builderApi.localize("editorTemplates.layouts.store.addToCart"),href:this.settings.getPageUri("store/product-detail")+"/"},isTaxable:!0,isPickup:!1,productType:1,images:[{source:"https://images.unsplash.com/photo-1494261951946-b0c26b70410c?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=7148f93943d52d36939fd621c24b2d44&auto=format&fit=crop&w=500&q=60",sizes:null,isStock:!0}],productCategoryIds:null,options:this.getDemoOptionData(),taxExPrice:46.5,taxExFromPrice:50,originalPrice:46.5,originalFromPrice:50},{id:"1111",name:this.builderApi.localize("editorTemplates.features.store.demoProductTitle"),title:this.builderApi.localize("editorTemplates.features.store.demoProductTitle"),description:this.builderApi.localize("editorTemplates.features.store.demoProductDescription"),shortDescription:this.builderApi.localize("editorTemplates.features.store.demoProductDescription"),sku:null,stock:null,discountPercentage:0,banner:null,image:{value:"https://images.unsplash.com/photo-1494498902093-87f291949d17?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=cc45a906096bd3d1a8ff018e75d4f43a&auto=format&fit=crop&w=500&q=60"},images:[{source:"https://images.unsplash.com/photo-1494498902093-87f291949d17?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=cc45a906096bd3d1a8ff018e75d4f43a&auto=format&fit=crop&w=500&q=60",sizes:null,isStock:!0}],deepLink:{title:this.builderApi.localize("editorTemplates.layouts.store.addToCart"),href:this.settings.getPageUri("store/product-detail")+"/"},options:null,discountedPrice:70,productPrice:58.33},{id:"0000",name:this.builderApi.localize("editorTemplates.features.store.demoProductTitle"),title:this.builderApi.localize("editorTemplates.features.store.demoProductTitle"),description:this.builderApi.localize("editorTemplates.features.store.demoProductDescription"),shortDescription:this.builderApi.localize("editorTemplates.features.store.demoProductDescription"),sku:null,stock:null,discountPercentage:null,banner:null,image:{value:"https://images.unsplash.com/photo-1494261951946-b0c26b70410c?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=7148f93943d52d36939fd621c24b2d44&auto=format&fit=crop&w=500&q=60"},images:[{source:"https://images.unsplash.com/photo-1494261951946-b0c26b70410c?ixlib=rb-0.3.5&ixid=eyJhcHBfaWQiOjEyMDd9&s=7148f93943d52d36939fd621c24b2d44&auto=format&fit=crop&w=500&q=60",sizes:null,isStock:!0}],deepLink:{title:this.builderApi.localize("editorTemplates.layouts.store.addToCart"),href:this.settings.getPageUri("store/product-detail")+"/"},options:null,discountedPrice:100,productPrice:100}]}},{key:"getDemoOptionData",value:function(){return[{optionId:"2985",name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName1"),variantType:1,choices:[{choiceId:"12058",inStock:!0,name:"#0000ff",color:"#0000ff",productId:"pv_146412_12058",selected:!1},{choiceId:"12059",inStock:!0,name:"#000",color:"#000",productId:"pv_146412_12059",selected:!1},{choiceId:"12060",inStock:!0,name:"#556b2f",color:"#556b2f",productId:"pv_146412_12060",selected:!1},{choiceId:"12061",inStock:!1,name:"#ffffff",color:"#ffffff",productId:"pv_146412_12061",selected:!1}]},{optionId:"2986",name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName3"),variantType:2,choices:[{choiceId:"12062",inStock:!0,name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName3Choice1"),color:"",productId:"pv_146412_12062",selected:!1,hover:null},{choiceId:"12063",inStock:!0,name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName3Choice2"),color:"",productId:"pv_146412_12063",selected:!1,hover:null},{choiceId:"12064",inStock:!0,name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName3Choice3"),color:"",productId:"pv_146412_12064",selected:!1,hover:null},{choiceId:"12065",inStock:!1,name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName3Choice4"),color:"",productId:"pv_146412_12065",selected:!1,hover:null}]},{optionId:"2987",name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName2"),variantType:3,choices:[{choiceId:"12066",inStock:!0,name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName2Choice1"),color:"",productId:"pv_146412_12066",selected:!1,hover:null},{choiceId:"12067",inStock:!0,name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName2Choice2"),color:"",productId:"pv_146412_12067",selected:!1,hover:null},{choiceId:"12068",inStock:!0,name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName2Choice3"),color:"",productId:"pv_146412_12068",selected:!1,hover:null},{choiceId:"12069",inStock:!0,name:this.builderApi.localize("editorTemplates.features.productDemoData.variantName2Choice4"),color:"",productId:"pv_146412_12069",selected:!1,hover:null}]}]}}])&&i(p.prototype,f),h&&i(p,h),S);function S(e,t){var o=this;s(this,S),this.settings=this.builderApi=e,this.fetch=e.fetch,this.isTestMode=window.self!==window.top||!!this.settings.editor,this.isForPreview=e.isForPreview,this.isRuntimeSite=t.isRuntimeSite,this.config=t,this.localPickupFulfillmentType=v;var i,r,n,a=e.getGlobalColorsWithContrast&&e.getGlobalColorsWithContrast();a?this.colors={buttonColor:g(a.buttonBackground),buttonTextColor:g(a.buttonText),backgroundColor:g(a.background),textColor:g(a.text),title:g(a.title)}:(r=(i=e.getGlobalColors()||{}).text,n=i.background,a=(i=(a=i.accent)&&a[0])&&"rgb(".concat(a[0].join(","),")"),i=i&&e.getTextColorForBackground&&e.getTextColorForBackground(i),r=r&&"rgb(".concat(r.join(","),")"),n=n&&"rgb(".concat(n.join(","),")"),this.colors={buttonColor:a,buttonTextColor:i,backgroundColor:n,textColor:r,title:r}),this.data={needToCreateStore:!0,needToSetup:!0},t.isThumbnail?this.data.needToCreateStore=!1:setTimeout(function(){return o.initializeStore()},1),window.storeCartButton&&this.addCartButton()}window.__features=window.__features||{},window.__features["store-core"]=y},{}]},{},[1]);;!function a(r,i,o){function l(t,e){if(!i[t]){if(!r[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(d)return d(t,!0);throw(n=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",n}n=i[t]={exports:{}},r[t][0].call(n.exports,function(e){return l(r[t][1][e]||e)},n,n.exports,a,r,i,o)}return i[t].exports}for(var d="function"==typeof require&&require,e=0;e<o.length;e++)l(o[e]);return l}({1:[function(e,t,n){"use strict";var a,o=(a=e("../legal-modal"))&&a.__esModule?a:{default:a};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;function l(){var e=null===(e=document)||void 0===e?void 0:e.querySelector(".kv-check-scroll");return e&&null!=e&&e.querySelector(".kv-ee-navigation")?e:null}function d(e,t,n){var a,r,i=document.createElement("div");return i.classList.add("kv-ee-banner-content"),i.append((a=e,(r=document.createElement("p")).innerHTML=a.bannerText,r)),i.append(function(e,t,n){var a=document.createElement("div");a.classList.add("kv-ee-banner-buttons");var r=document.createElement("span");r.classList.add("kv-ee-banner-button"),r.innerHTML=n.localize("designer.siteSettings.legal.fields.privacyPolicy.privacyPolicyText.label"),r.addEventListener("click",function(){(0,o.default)(t)});n=document.createElement("span");return n.classList.add("kv-ee-banner-button"),n.innerHTML=e.agreeButtonText,n.addEventListener("click",function(){var e,t=null===(e=document.body)||void 0===e?void 0:e.querySelector(".kv-ee-gdpr-banner");t&&(t.classList.remove("kv-ee-show"),(e=l())&&(e.style.top="0"),setTimeout(function(){document.body.removeChild(t),window.localStorage.setItem("cookieDisclaimer",!0)},e?200:0))}),a.append(r),a.append(n),a}(e,t,n)),i}function r(e,t,n){var a=document.createElement("div");a.classList.add("kv-ee-gdpr-banner"),a.classList.add("kv-ee-".concat(e.bannerPosition)),a.classList.add("kv-ee-show");var r,i="top"===e.bannerPosition;(r=l())&&i&&(r.style.top="74px",r.style.transition="top 200ms ease-in-out",a.classList.add("kv-ee-header-fixed")),a.append((r=e,e=t,t=n,(n=document.createElement("div")).classList.add("kv-ee-banner-container"),n.append(d(r,e,t)),n)),i?document.body.prepend(a):document.body.append(a)}n.default=r},{"../legal-modal":4}],2:[function(e,t,n){"use strict";var a,r=(a=e("./gdpr-banner"))&&a.__esModule?a:{default:a};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;r=r.default;n.default=r},{"./gdpr-banner":1}],3:[function(e,t,n){"use strict";var a=i(e("./legal-modal")),r=i(e("./gdpr-banner"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=e&&("undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"]);if(null!=n){var a,r,i=[],o=!0,l=!1;try{for(n=n.call(e);!(o=(a=n.next()).done)&&(i.push(a.value),!t||i.length!==t);o=!0);}catch(e){l=!0,r=e}finally{try{o||null==n.return||n.return()}finally{if(l)throw r}}return i}}(e,t)||function(e,t){if(e){if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(n="Object"===n&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}function l(e,t){for(var n,a=0;a<t.length;a++)(n=t[a]).enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}var d,u,s,e=(d=v,(u=[{key:"getNiceName",value:function(e){return"termsofservice"===e?this.builderApi.localize("designer.siteSettings.legal.fields.termsOfService.termsOfServiceText.label"):"privacypolicy"===e?this.builderApi.localize("designer.siteSettings.legal.fields.privacyPolicy.privacyPolicyText.label"):""}},{key:"getLegalText",value:function(e,t){return"termsofservice"===t?e.termsOfServiceText:"privacypolicy"===t?e.privacyPolicyText:""}},{key:"buildLegalElement",value:function(e,t,n){var a=document.createElement("a");return a.id=e,a.key=t,a.href="#".concat(e),a.classList.add(e),a.innerHTML=n,a.style.marginRight="8px",a.style.cursor="pointer",a}},{key:"doEUCitizenCall",value:function(){var e=window._site&&window._site.environment||"",t=window._site&&window._site.partnerId||0,n=window._site&&window._site.useHostingApi||!1,a="";return(100<=t||n)&&e&&(a="dev"===e?"https://hostingapi.latest.mywebsitebuilder.com":"prod"===e?"https://hostingapi.mywebsitebuilder.com":"https://hostingapi.".concat(e,".mywebsitebuilder.com")),this.fetch(a+"/v1.0/policy/info").then(function(e){return e.json()})}},{key:"registerGdprBanner",value:function(e,t,n){this.isRuntimeSite&&this.isPrivacyPolicy(e)&&t.showCookieBanner&&this.testLocalStorage()&&!window.localStorage.getItem("cookieDisclaimer")&&(0,r.default)(t,n,this.builderApi)}},{key:"isPrivacyPolicy",value:function(e){return"privacypolicy"===e}},{key:"testLocalStorage",value:function(){try{return window.localStorage.setItem("testLS",!0),window.localStorage.removeItem("testLS"),!0}catch(e){return!1}}},{key:"handleLegalModal",value:function(e,t){window.location.hash==="#".concat(e)&&(0,a.default)(t)}},{key:"afterRender",value:function(e,t,n){var d=this;setTimeout(function(){var e=n.global.legal,o=n.global.companyName,l=null==t?void 0:t.querySelector(".kv-ee-legal-placeholder");Object.entries(e).map(function(e,t){var n,a=c(e,2),r=a[0],e=a[1],i=r.toLowerCase();null!=l&&l.querySelector(".".concat(i))||(a=d.getNiceName(i),r=d.getLegalText(e,i),t=d.buildLegalElement(i,t,a),0<r.length&&(l.append(t),n={data:r,displayName:a,companyName:o,id:i},d.registerGdprBanner(i,e,n),window.addEventListener("hashchange",function(){d.handleLegalModal(i,n)}),d.isRuntimeSite&&d.handleLegalModal(i,n)))}),l&&(l.dataset.type="legal")},1)}}])&&l(d.prototype,u),s&&l(d,s),v);function v(e,t){var n=this;(function(e){if(!(e instanceof v))throw new TypeError("Cannot call a class as a function")})(this),this.builderApi=e,this.isRuntimeSite=t.isRuntimeSite,this.fetch=e.fetch,e.editor&&setTimeout(function(){e.editor.refreshFeatures&&e.editor.refreshFeatures(),e.editor.getAllControlsForFeature(n).forEach(function(e){e.render()})},1)}window.__features=window.__features||{},window.__features.legal=e},{"./gdpr-banner":2,"./legal-modal":4}],4:[function(e,t,n){"use strict";var a,r=(a=e("./legal-modal"))&&a.__esModule?a:{default:a};Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;r=r.default;n.default=r},{"./legal-modal":5}],5:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;function i(){var e,t=null===(e=document.body)||void 0===e?void 0:e.querySelector(".kv-ee-legal-modal");t&&(t.classList.add("kv-ee-animate-out"),setTimeout(function(){document.body.removeChild(t),document.body.style.overflow="",window.history.replaceState({},document.title,window.location.href.split("#")[0])},250))}function o(e,t,n){var a=document.createElement("div");return a.classList.add("kv-ee-modal-content"),a.append(function(e){var t=document.createElement("div");t.classList.add("kv-ee-modal-header");var n=document.createElement("h2");n.innerHTML=e;e=document.createElement("span");return e.classList.add("kv-ee-close"),e.innerHTML="&times;",e.addEventListener("click",i),t.append(n),t.append(e),t}(t)),a.append(function(e){var t=document.createElement("div");t.classList.add("kv-ee-modal-body");var n=e.includes("<p>")?document.createElement("div"):document.createElement("p");return n.innerText=e,t.append(n),t}(e)),a.append(function(e){var t=document.createElement("div");t.classList.add("kv-ee-modal-footer");var n=(new Date).getFullYear(),a=document.createElement("span");return a.innerHTML=e?"&copy; ".concat(n," ").concat(e):"Copyright ".concat(n),t.append(a),t}(n)),a.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}),a}function a(e){var t=e.data,n=e.displayName,a=e.companyName,r=e.id;(e=document.createElement("div")).classList.add("kv-ee-legal-modal"),e.id=r,e.append(o(t,n,a)),e.classList.add("kv-ee-animate-in"),e.addEventListener("click",i),window.addEventListener("keydown",l),document.body.append(e),document.body.style.overflow="hidden"}var l=function(e){27===e.keyCode&&(window.removeEventListener("keydown",l),i())};n.default=a},{}]},{},[3]);;!function n(o,r,a){function s(t,e){if(!r[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(l)return l(t,!0);throw(i=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",i}i=r[t]={exports:{}},o[t][0].call(i.exports,function(e){return s(o[t][1][e]||e)},i,i.exports,n,o,r,a)}return r[t].exports}for(var l="function"==typeof require&&require,e=0;e<a.length;e++)s(a[e]);return s}({1:[function(e,t,i){"use strict";function o(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?n(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=Array(t);i<t;i++)n[i]=e[i];return n}function r(e,t){for(var i,n=0;n<t.length;n++)(i=t[n]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}function a(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s,l,u,d=(s=c,(l=[{key:"registerWindowEvent",value:function(){}},{key:"unregisterWindowEvent",value:function(){var e;"undefined"==typeof window||!window._zoomUpdateEvents||0<=(e=window._zoomUpdateEvents.indexOf(this.triggerWindowEvent))&&window._zoomUpdateEvents.splice(e,1)}},{key:"dispose",value:function(){this.recheckMode=null,this.unregisterWindowEvent()}},{key:"afterRender",value:function(e,t){var i,n,o=this;!t.parentElement||((n=(i=t.parentElement.parentElement).querySelectorAll("li"))||n.length)&&(this.builderApi.isInOnboarding()?i.classList.add("kv-ee-no-animation"):i.classList.remove("kv-ee-no-animation"),this.settings.isCarouselSection?setTimeout(function(){o.checkMobileMode(i),o.setHeaderHeight(e,t)},300):!this.builderApi.isInOnboarding()||t.offsetHeight?(this.checkMobileMode(i),this.setHeaderHeight(e,t),window.addEventListener("resize",function(){o.__resizeTimeout&&window.clearTimeout(o.__resizeTimeout),o.__resizeTimeout=window.setTimeout(function(){o.checkMobileMode(i),o.setHeaderHeight(e,t)},o.resizeWaitTimeout)}),this.recheckMode=this.builderApi.debounce(function(){o.checkMobileMode(i),o.setHeaderHeight(e,t)},300)):setTimeout(function(){o.checkMobileMode(i),o.setHeaderHeight(e,t)},2e3))}},{key:"setSectionPadding",value:function(e,t){e.nextElementSibling.querySelector(".kv-background").style.top=-t+"px"}},{key:"setHeaderHeightInternal",value:function(e,t){var i="navigation"===this.builderApi.controller.parentController.model.category&&this.isRuntimeSite;if(0<e.offsetHeight||i){i=this.builderApi.controller.parentController.model.layout.section.id;if("dubemo66"===i)return n=e.querySelector("header"),void(t.style.height=n.offsetHeight+"px");var n=(n=e.querySelector(".kv-ee-navigation")||e.querySelector("header")).offsetHeight,e=this.isPreviewOrPublishedWebsite&&"navigation-1"===i&&!this.settings.model._toggle["global.logo"]?Math.ceil(n+e.offsetHeight):Math.max(n,e.offsetHeight);t.style.height=e+"px",document.documentElement.style.setProperty("--navigation-height",e+"px")}}},{key:"setHeaderHeight",value:function(e,r){var a=this,e=e.model.isFloatingSection||!1===e.model.cover&&!0===e.model.fixedNavigation;r.parentElement&&e&&!this.settings.isCarouselSection&&function(){for(var e=r.parentElement.parentElement,t=r.querySelectorAll("img"),i=0;i<t.length;i++){var n=t[i].src,o=new window.Image;o.onload=function(){setTimeout(function(){a.setHeaderHeightInternal(r,e)})},o.src=n}a.setHeaderHeightInternal(r,e),setTimeout(function(){r.classList.contains("kv-scrolled")||a.setHeaderHeightInternal(r,e)},1e3)}()}},{key:"getNavigationWidth",value:function(e){var t=0;return e.forEach(function(e){t+=e.offsetWidth}),t+40}},{key:"determineContainerWidth",value:function(e,t){var i=e.querySelector("nav")||e,n=e.querySelector('[data-dynamic-navigation-element="logo"]'),o=e.querySelector('[data-dynamic-navigation-element="calltoactionbutton"]'),o=o?o.offsetWidth:0,n=n?n.offsetWidth:0,i=i.offsetWidth-o;return{containerSize:i,logoWidth:n,ctaWidth:o,headerWith:e.offsetWidth,navigationToWide:t+n+o>=e.offsetWidth-20,headerToWide:i+n>=e.offsetWidth}}},{key:"shouldMinimizeMenu",value:function(e){if(((null==e?void 0:e.clientWidth)||window.innerWidth)<this.mobileBreakpoint)return!0;var t=e.querySelectorAll(".kv-ee-menu-item-wrapper > li");this.currentElementWidth=this.getNavigationWidth(t);var i=this.determineContainerWidth(e,this.currentElementWidth),t=i.containerSize,e=i.headerToWide,i=i.navigationToWide;return t<100&&!this.builderApi.controller.getSiteController().hasSectionBasedNavigation()||e||i}},{key:"checkMobileMode",value:function(e){var t=(t=e.querySelector(".kv-ee-check-mobile"))||e;window.innerWidth<this.mobileBreakpoint?t.classList.contains("kv-ee-mobile")||t.classList.add("kv-ee-mobile"):(t.classList.remove("kv-ee-mobile"),e=this.shouldMinimizeMenu(e),t=t.classList,e&&t.add("kv-ee-mobile"),e||t.remove("kv-ee-mobile"))}},{key:"updateProperty",value:function(e,t,i){var n;"layout.section.id"!==t||(t=o((n=document.querySelector(".kv-page-content")).classList).find(function(e){return e.includes("with-navigation")}))&&(n.classList.remove(t),n.classList.add("kv-ee-with-"+i))}}])&&r(s.prototype,l),u&&r(s,u),c);function c(e,t){var i=this;(function(e){if(!(e instanceof c))throw new TypeError("Cannot call a class as a function")})(this),a(this,"getRenderModel",function(){return{}}),a(this,"triggerWindowEvent",function(){i.recheckMode&&i.recheckMode()}),this.isRuntimeSite=t.isRuntimeSite,this.builderApi=e,this.currentElementWidth=0,this.checkTimeout=0,this.settings=t;e=!this.editor&&window.self!==window.top;this.isPreviewOrPublishedWebsite=t.isRuntimeSite,this.mobileBreakpoint=991,this.resizeWaitTimeout=e?0:300,"undefined"!=typeof window&&(window._zoomUpdateEvents=window._zoomUpdateEvents||[],window._zoomUpdateEvents.push(this.triggerWindowEvent))}window.__features=window.__features||{},window.__features.navigation=d},{}]},{},[1]);;!function o(a,r,n){function s(t,e){if(!r[t]){if(!a[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(c)return c(t,!0);throw(i=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",i}i=r[t]={exports:{}},a[t][0].call(i.exports,function(e){return s(a[t][1][e]||e)},i,i.exports,o,a,r,n)}return r[t].exports}for(var c="function"==typeof require&&require,e=0;e<n.length;e++)s(n[e]);return s}({1:[function(e,t,i){"use strict";function o(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);return"Map"===(i="Object"===i&&e.constructor?e.constructor.name:i)||"Set"===i?Array.from(e):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,o=Array(t);i<t;i++)o[i]=e[i];return o}function r(t,e){var i,o=Object.keys(t);return Object.getOwnPropertySymbols&&(i=Object.getOwnPropertySymbols(t),e&&(i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,i)),o}function f(o){for(var a,e=1;e<arguments.length;e++)a=null==arguments[e]?{}:arguments[e],e%2?r(Object(a),!0).forEach(function(e){var t,i;t=o,e=a[i=e],i in t?Object.defineProperty(t,i,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[i]=e}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(a)):r(Object(a)).forEach(function(e){Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(a,e))});return o}function n(e,t){for(var i,o=0;o<t.length;o++)(i=t[o]).enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}var s,c,u,l=(s=d,u=[{key:"getSiteMapUrl",value:function(e,t){var i=e.url.match(/^https?:\/\/[^/]+/i),i=0<i.length&&i[0].replace("st-shop","st-shop-api"),t=t("store/product-detail");return{sitemap:"".concat(i,"/v1.0/").concat(e.instance_id,"/sitemap?urlplaceholder=http://pupprintsportraits.com").concat(window.encodeURIComponent("/".concat(t))),modified:"".concat(i,"/v1.0/").concat(e.instance_id,"/sitemap/last-modified"),exclude_pages_in_sitemap:[t]}}}],(c=[{key:"onOpenPageType",value:function(e,t,i){i&&0<i.length&&(this.productId=i[0])}},{key:"getLoadPromiset",value:function(){return this.storeCore.appMarketPromise}},{key:"onDidGetStoreInfo",value:function(){var e=this;this.productPromise.then(function(){e.data.showSectionLoader&&(e.data.showSectionLoader=!1),e.view.render()})}},{key:"doStoreDataCall",value:function(){this.productPromise=this.editMode?Promise.resolve():this.fetchDetails()}},{key:"demoData",value:function(e){this.data.product=e&&f(f({},e),this.storeCore.formatPrice(e)),this.data.currencySymbol="$",this.data.currencyCode="USD",this.data.product.image={value:e.images[0].source},this.fakeSlides(),this.convertVariantTypes()}},{key:"initializeForSection",value:function(){this.editMode?(this.data.showSectionLoader=!1,this.demoData(this.fakeData()),this.view.render()):this.storeCore.initializeStore()}},{key:"updateProperty",value:function(){return!1}},{key:"getRenderModel",value:function(){return f(f({},this.data),this.storeCore.data)}},{key:"changeActiveSlide",value:function(e){var t=e.querySelector(".kv-ee-slides-wrapper .kv-ee-carousel"),i=e.querySelectorAll(".kv-ee-slides-wrapper .kv-ee-carousel .kv-ee-exhibit"),o=e.querySelector(".kv-ee-slides-wrapper .kv-ee-carousel .kv-ee-active"),a=i[this.data.slidePosition],i=e.querySelectorAll(".kv-ee-slides-wrapper .kv-ee-slides .kv-ee-slide-thumb"),e=e.querySelector(".kv-ee-slides-wrapper .kv-ee-slides .kv-ee-active"),i=i[this.data.slidePosition];o&&o.classList.remove("kv-ee-active"),e&&e.classList.remove("kv-ee-active"),a&&a.classList.add("kv-ee-active"),i&&i.classList.add("kv-ee-active"),t&&(t.style="transform: translateX(-".concat(100*this.data.slidePosition,"%);"))}},{key:"afterRender",value:function(e,t){var i=this;this.changeActiveSlide(t);var o=t.querySelector(".kv-ee-order-button"),a=t.querySelector(".kv-ee-form-notice"),r=t.querySelector("#quantity"),n=1;r&&r.value&&(n=parseInt(r.value,10));var s=t.querySelectorAll(".kv-ee-variants .kv-ee-variant-group .kv-ee-options .kv-ee-field, .kv-ee-variants .kv-ee-variant-group .kv-ee-options select");o&&o.addEventListener("click",function(e){var t=o.getAttribute("pid");if(r&&r.value&&(n=parseInt(r.value,10)),e.preventDefault(),!window.AMStore)throw new Error("couldn't find store");i.data.product&&r&&i.updateProductQuantity(i.data.product,r,n),i.editMode||(i.variantsIsNull()&&i.stockIsNull()||i.hasVariants()&&i.checkVariantsSelected()||i.hasStock()?window.AMStore.addToCart(t,n):i.toggleAddToCartBtn(o,a,i.warningMessage(),!0))}),r&&this.data.product&&this.updateProductQuantity(this.data.product,r,n),this.removeVariantListeners(s,t),this.addVariantListeners(s,t),this.updateSlideEvent(t),this.data.returnToCategory="/"+this.settings.getPreviousPageUri(),e.didRerenderFromFeature||(e.render(),e.didRerenderFromFeature=!0),window.NodeList.prototype.text=function(t){this.forEach(function(e){e.textContent=t})},this.storeCore.initializeCart()}},{key:"fetchProductDetail",value:function(e){if(""!==e)return this.fetch("".concat(this.storeCore.shopApiUrl,"/v1.0/product/detail/").concat(e,"?instanceId=").concat(encodeURIComponent(this.storeCore.instanceId))).then(function(e){return e.json()});e=this.settings.getPageUri("store/landing-page");this.config.view.controller.imports.Communication&&this.config.view.controller.imports.Communication.sendRedux("SET_ACTIVE_PAGE_URI",e)}},{key:"fetchDetails",value:function(){var t=this;return this.fetchProductDetail(this.productId).then(function(e){t.data.product=e&&f(f(f({},e),t.storeCore.formatPrice(e)),{},{isPhysicalProduct:1===e.productType,isDigitalProduct:2===e.productType,isPickup:e.fulfillmentType===t.storeCore.localPickupFulfillmentType&&1===e.productType}),e.images&&0<e.images.length&&(t.data.product.image={value:e.images[0].source}),t.convertImgsToSlides(),t.convertVariantTypes()})}},{key:"getUrlByAppName",value:function(e,t){return{"st-edit":"https://st-edit.".concat(e,".mywebsitebuilder.com"),"st-shop":"https://st-shop.".concat(e,".mywebsitebuilder.com"),"st-shop-api":"https://st-shop-api.".concat(e,".mywebsitebuilder.com"),"st-edit-api":"https://st-edit-api.".concat(e,".mywebsitebuilder.com")}[t]}},{key:"manageStoreSettingsClick",value:function(){this.settings.editor.showDashboard("STORE20",{route:"/",queryParams:{ee:1},fullscreen:!0})}},{key:"getEnvName",value:function(e){return new URL(e).hostname.split(".")[1]}},{key:"updateSlideEvent",value:function(i){var o=this,e=i.querySelectorAll(".kv-ee-slides-wrapper button"),t=i.querySelectorAll(".kv-ee-slides-wrapper .kv-ee-slides a");e.forEach(function(t){t.addEventListener("click",function(e){e.preventDefault(),-1<t.className.indexOf("prev")&&(0<o.data.slidePosition?--o.data.slidePosition:o.data.slidePosition=o.data.product.slides.length-1),-1<t.className.indexOf("next")&&(o.data.slidePosition<o.data.product.slides.length-1?++o.data.slidePosition:o.data.slidePosition=0),o.data.product.image={value:o.data.product.slides[o.data.slidePosition].source},o.changeActiveSlide(i)})}),t.forEach(function(e,t){e.addEventListener("click",function(e){e.preventDefault(),o.data.slidePosition=t,o.data.product.image={value:o.data.product.slides[o.data.slidePosition].source},o.changeActiveSlide(i)})})}},{key:"handleVariantChange",value:function(h){var v=this;return function(e){e.preventDefault(),e.stopPropagation();var c=v.builderApi.localize,n=h.querySelector(".kv-ee-order-button"),s=h.querySelector("#quantity"),u=h.querySelector(".kv-ee-form-notice"),l=h.querySelectorAll(".kv-ee-variants .kv-ee-variant-group .kv-ee-options"),d=h.querySelectorAll(".kv-ee-variants .kv-ee-variant-group .kv-ee-options .kv-ee-field, .kv-ee-variants .kv-ee-variant-group .kv-ee-options select"),p=1;s&&s.value&&(p=parseInt(s.value,10)),n.setAttribute("pid",e.target.value),v.fetchProductDetail(e.target.value).then(function(e){v.data.product=e&&f(f(f({},e),v.storeCore.formatPrice(e)),{},{isPhysicalProduct:1===e.productType,isDigitalProduct:2===e.productType,isPickup:e.fulfillmentType===v.storeCore.localPickupFulfillmentType&&1===e.productType}),v.convertImgsToSlides(),v.convertVariantTypes();var t=v.data.product,i=v.storeCore.data.currencySymbol,o=h.querySelector(".kv-ee-s__price_wrapper");n.setAttribute("pid",t.id);var a,r="<div>";r+=t.discountPercentage?'<span class="kv-ee-s__price kv-ee-price-strikeout">'.concat(i).concat(t.productPrice,'</span>\n\n          <span class="kv-ee-s__price kv-ee-discountedPrice">').concat(i).concat(t.discountedPrice,'</span>\n\n          <span class="kv-ee-discountPercentage">').concat(t.discountPercentage).concat(c("editorTemplates.features.store.percentOff"),"</span>\n"):'<span class="kv-ee-s__price">'.concat(i).concat(t.productPrice,"</span>\n"),r+="</div>",o.innerHTML=r,s&&v.updateProductQuantity(e,s,p),e.options&&0<e.options.length&&(a={},v.data.product.options=e.options,e.options.forEach(function(n){var s="";3===n.variantType&&(s+='<div class="kv-ee-dropdown kv-ee-fill kv-ee-mb-3">\n              <select id=\'option-'.concat(n.optionId,"' class=\"kv-ee-field\" name='").concat(n.optionId,"'>\n              <option value=\"").concat(v.data.product.id,'" class="kv-ee-null-opt">').concat(c("editorTemplates.features.storeDetail.select")," ").concat(n.name,"</option>\n              ")),n.choices.forEach(function(e){var t=e.choiceId,i=e.productId,o=e.inStock,a=e.selected,r=e.name,e=e.color;s+=3===n.variantType?'<option class="'.concat(o?"":"kv-ee-disabled","\" id='choice-").concat(n.optionId,"_").concat(t,"' value='").concat(i,"'").concat(a?" selected":"",">").concat(o?r:r+" (".concat(c("editorTemplates.features.storeDetail.outOfStock"),")"),"</option>"):'<input type="radio" class="kv-ee-field'.concat(o?"":" kv-ee-disabled","\" id='choice-").concat(n.optionId,"_").concat(t,"' value='").concat(i,"' name='").concat(n.optionId,"'").concat(a?" checked":"",'>\n<label title="').concat(o?r:r+" (".concat(c("editorTemplates.features.storeDetail.outOfStock"),")"),"\" class='kv-ee-variant").concat(e?" kv-ee-v__color":"","' for='choice-").concat(n.optionId,"_").concat(t,"'><span ").concat(e?'style="background-color:'+e+'"':"",">").concat(e?'<i class="material-icons">close</i>':r,"</span></label>")}),3===n.variantType&&(s+="</select></div>"),a[n.optionId]=s}),v.removeVariantListeners(d,h),l.forEach(function(e){var t=a[e.getAttribute("data-optid")];t&&(e.innerHTML=t)}),d=h.querySelectorAll(".kv-ee-variants .kv-ee-variant-group .kv-ee-options .kv-ee-field, .kv-ee-variants .kv-ee-variant-group .kv-ee-options select"),v.addVariantListeners(d,h)),v.toggleAddToCartBtn(n,u,v.warningMessage())})}}},{key:"addVariantListeners",value:function(e,t){var i=this;e.forEach(function(e){e.addEventListener("change",i.handleVariantChange(t))})}},{key:"removeVariantListeners",value:function(e,t){var i=this;e.forEach(function(e){e.removeEventListener("change",i.handleVariantChange(t))})}},{key:"toggleAddToCartBtn",value:function(e,t,i){var o=!!(3<arguments.length&&void 0!==arguments[3])&&arguments[3],a=this.hasStock()||this.hasVariants()&&this.checkVariantsSelected();e&&(e.classList.toggle("kv-ee-disabled",!a),e.classList.toggle("kv-ee-button-ghost-primary",!a),e.title=a?this.cartButtonText||this.builderApi.localize("editorTemplates.features.storeDetail.addToCart"):this.builderApi.localize("editorTemplates.features.storeDetail.selectionOut"),o||(e.innerHTML='<span id="addToCart">'+(this.hasStock()||0<this.listVariants().length||this.stockIsNull()?this.cartButtonText||this.builderApi.localize("editorTemplates.features.storeDetail.addToCart"):this.builderApi.localize("editorTemplates.features.storeDetail.outOfStock"))+"</span>")),t&&(a?t.innerHTML="":(t.innerHTML="",t.appendChild(i)))}},{key:"updateProductQuantity",value:function(e,t,i){var o="",a=1,r=10;for(e.stock&&0<e.stock&&e.stock<r&&(r=e.stock),a=1;a<=r;a++)o+='<option value="'.concat(a,'">').concat(a,"</option>");0===e.stock&&(o='<option disabled selected value="0">'.concat(this.builderApi.localize("editorTemplates.features.storeDetail.noStockAvailable"),"</option>"),t.value=0),t.innerHTML=o,r<=i&&(t.value=r,i=parseInt(t.value,10))}},{key:"warningMessage",value:function(){var e=this.builderApi.localize,t=document.createElement("p");return t.classList.add("kv-ee-stock","kv-ee-d-flex","kv-ee-align-items-center","kv-ee-justify-content-center"),t.textContent=this.data.product&&this.data.product.options&&0<this.listVariants().length?e("editorTemplates.features.storeDetail.pleaseSelect")+this.variantString():e("editorTemplates.features.storeDetail.noStockAvailable"),t}},{key:"variantString",value:function(){var e=this.listVariants(),t=o(e),i=1<e.length?t.pop():e[0];return 1<e.length?t.join(", ")+this.builderApi.localize("editorTemplates.features.storeDetail.and")+i:i}},{key:"listVariants",value:function(){return this.data.product&&this.data.product.options?this.data.product.options.filter(function(e){return 0===e.choices.filter(function(e){return e.selected}).length}).map(function(e){return e.name}):[]}},{key:"hasVariants",value:function(){return this.data.product&&this.data.product.options&&0<this.data.product.options.length}},{key:"hasStock",value:function(){return this.data.product&&this.data.product.stock&&null!==this.data.product.stock&&0<this.data.product.stock}},{key:"variantsIsNull",value:function(){return this.data.product&&null===this.data.product.options}},{key:"stockIsNull",value:function(){return this.data.product&&null===this.data.product.stock}},{key:"checkVariantsSelected",value:function(){return!!(this.data.product&&this.data.product.options&&0<this.data.product.options.length)&&this.data.product.options.map(function(e){return e.choices.filter(function(e){var t=e.selected,e=e.inStock;return t&&e})}).every(function(e){return 0<e.length})}},{key:"checkStock",value:function(){return this.data.product&&this.data.product.stock&&null!==this.data.product.stock&&0<this.data.product.stock}},{key:"convertVariantTypes",value:function(){this.data.product.options&&(this.data.product.options=this.data.product.options.map(function(e){return e.isColor=1===e.variantType,e.isSize=2===e.variantType,e.isOther=3===e.variantType,e}))}},{key:"convertImgsToSlides",value:function(){this.data.product.images&&(this.data.product.slides=this.data.product.images.filter(function(e){return"https://storage.googleapis.com/store-assets-bucket/Asset%203.png"!==e.source}).map(function(e){return e.style="background-image: url('".concat(e.source,"');"),e}),0<this.data.product.slides.length&&(this.data.product.image={value:this.data.product.slides[0].source})),this.data.product.slides&&(this.data.slidePosition=0,this.data.multipleSlides=1<this.data.product.slides.length)}},{key:"fakeSlides",value:function(){this.data.product.images=[{source:"https://images.unsplash.com/photo-1547147473-0b748ef102d9?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60",sizes:null,isStock:!0},{source:"https://images.unsplash.com/photo-1529071753386-dfb44ff59f69?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=60",sizes:null,isStock:!0},{source:"https://images.unsplash.com/photo-1547489401-fcada4966052?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80",sizes:null,isStock:!0},{source:"https://images.unsplash.com/photo-1546487772-83ca711cf267?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80",sizes:null,isStock:!0},{source:"https://images.unsplash.com/photo-1504208434309-cb69f4fe52b0?ixlib=rb-1.2.1&auto=format&fit=crop&w=500&q=80",sizes:null,isStock:!0},{source:"https://images.unsplash.com/photo-1524993242431-9de0d2d86e85?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80",sizes:null,isStock:!0},{source:"https://images.unsplash.com/photo-1452451312475-5055e48f74cb?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80",sizes:null,isStock:!0},{source:"https://images.unsplash.com/photo-1453090643118-eae60f5bc58a?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=500&q=80",sizes:null,isStock:!0}],this.convertImgsToSlides()}},{key:"fakeData",value:function(){return f({},this.storeCore.getDemoData()[0])}}])&&n(s.prototype,c),u&&n(s,u),d);function d(e,t,i){(function(e){if(!(e instanceof d))throw new TypeError("Cannot call a class as a function")})(this),this.builderApi=e,this.settings=e,this.config=t,this.storeCore=i["store-core"],this.fetch=e.fetch,this.view=t.view,e.editor&&!t.isThumbnail&&e.editor.storeModelProperty("showSectionLoader",!0,!1),this.productId="p_146412",this.data={showSectionLoader:!t.isThumbnail&&!this.storeCore.didGetStoreInfo,currencySymbol:"$",currencyCode:"USD"},this.editMode=!!e.editor}window.__features=window.__features||{},window.__features["store-detail"]=l},{}]},{},[1]);; window._featureSettings={"store-core":{"settings":{"isGlobal":true}},"legal":{"settings":{}},"translations":{"designer.siteSettings.legal.fields.termsOfService.termsOfServiceText.label":"Terms of Service","designer.siteSettings.legal.fields.privacyPolicy.privacyPolicyText.label":"Privacy Policy","editorTemplates.features.legal.sitemap":"Sitemap","editorTemplates.features.productDemoData.variantName1":"Color","editorTemplates.features.productDemoData.variantName2":"Style","editorTemplates.features.productDemoData.variantName3":"Shirt Size","editorTemplates.features.productDemoData.banner":"SWEET","editorTemplates.features.productDemoData.name":"Super cool new thing!","editorTemplates.features.productDemoData.description":"This thing is brand new so you know its cool","editorTemplates.features.storeDetail.outOfStock":"Out of stock","editorTemplates.features.storeDetail.addToCart":"Add to cart","editorTemplates.features.storeDetail.selectionOut":"Selected variant combination is out of stock","editorTemplates.features.storeDetail.select":"Select","editorTemplates.features.storeDetail.pleaseSelect":"Please select ","editorTemplates.features.storeDetail.and":" and ","editorTemplates.features.storeDetail.noStockAvailable":"No stock available","editorTemplates.features.store.item":"item","editorTemplates.features.store.items":"items","editorTemplates.layouts.store.addToCart":"Add to cart","editorTemplates.layouts.storeDetail.description":"Description","editorTemplates.layouts.storeDetail.quantity":"Quantity","editorTemplates.features.store.allProducts":"All Products","editorTemplates.features.store.percentOff":"% off"},"navigation":{"settings":{}},"store-detail":{"settings":{"dependingGlobalFeatures":["store-core"]}}};